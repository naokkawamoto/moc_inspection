<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>検査詳細</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet" />
    <!-- Optional custom CSS -->
    <link rel="stylesheet" href="../style.css" />
    </head>
    <body>
    <!-- ユーザーヘッダー -->
    <div id="header-container"></div>

    <div class="container mt-3">
        <!-- 上部：プロジェクト名、検査名、検査実施日、承認依頼ボタン -->
        <div class="row">
        <div class="col-12">
            <small class="text-muted">プロジェクト名: ハウスインスペクション（戸建て）</small>
        </div>
        <div class="col-12 d-flex justify-content-between align-items-center">
            <h2 class="fw-bold mb-0">検査名：山田太郎邸</h2>
            <span class="badge bg-dark">検査調整中</span>
        </div>
        <!-- 検査実施日 & 時間 & 天気（横並び） -->
        <div class="col-12 mb-3">
            <label for="inspectionDate" class="form-label">検査実施日</label>
            <div class="input-group">
            <input type="text" class="form-control" id="inspectionDate" placeholder="2025年2月27日(木)">
            <input type="text" class="form-control" id="inspectionTime" placeholder="10:00">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="weatherDropdown">
                <i class="bi bi-sun-fill"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="#" data-icon="bi-sun-fill">晴れ <i class="bi bi-sun-fill"></i></a></li>
                <li><a class="dropdown-item" href="#" data-icon="bi bi-cloud-fill">曇り <i class="bi bi-cloud-fill"></i></a></li>
                <li><a class="dropdown-item" href="#" data-icon="bi bi-cloud-rain-fill">雨 <i class="bi bi-cloud-rain-fill"></i></a></li>
                <li><a class="dropdown-item" href="#" data-icon="bi bi-snow">雪 <i class="bi bi-snow"></i></a></li>
            </ul>
            </div>
        </div>
        <div class="col-12 mb-3">
            <label for="inspectionDate" class="form-label">検査予定日</label>
            <div class="text-end">
                <a href="user_arrange_schedule.html" class="btn btn-danger">検査予定日調整</a>
            </div>
  
            <div class="input-group">
            <input type="text" class="form-control" id="inspectionDate" placeholder="調整中">
            <input type="text" class="form-control" id="inspectionTime" placeholder="調整中">
            </div>
        </div>
        <!-- 承認依頼ボタンのみ -->
        <div class="col-12 mb-3 text-center">
            <div class="d-flex justify-content-center gap-3">
            <button type="button" class="btn btn-warning btn-lg px-5 py-2" style="font-size: larger;" onclick="window.location.href='approval_request.html';">承認依頼</button>
            </div>
        </div>
        </div>

        <!-- タブ -->
        <ul class="nav nav-tabs" id="mainTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="facility-tab" data-bs-toggle="tab" data-bs-target="#facility" type="button" role="tab" aria-controls="facility" aria-selected="true">施設</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="inspection-tab" data-bs-toggle="tab" data-bs-target="#inspection" type="button" role="tab" aria-controls="inspection" aria-selected="false">進捗</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="chat-tab" data-bs-toggle="tab" data-bs-target="#chat" type="button" role="tab" aria-controls="chat" aria-selected="false">
            チャット <span class="badge bg-danger text-white ms-1">5</span>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="owner-tab" data-bs-toggle="tab" data-bs-target="#owner" type="button" role="tab" aria-controls="owner" aria-selected="false">
            依頼主 <span class="badge bg-danger text-white ms-1">3</span>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="report-tab" data-bs-toggle="tab" data-bs-target="#report" type="button" role="tab" aria-controls="report" aria-selected="false">レポート</button>
        </li>
        </ul>
        <div class="tab-content" id="mainTabContent">
        <!-- 施設情報タブ -->
        <div class="tab-pane fade show active" id="facility" role="tabpanel" aria-labelledby="facility-tab">
            <div class="mt-2">
            <div class="card mt-2">
                <!-- カードヘッダー追加 -->
                <div class="card-header">
                <h5 class="mb-0">施設詳細</h5>
                </div>
                <div class="card-body">
                <!-- 施設名 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>施設名</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="○○施設">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- プロジェクト名 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>プロジェクト名</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="ハウスインスペクション（戸建て）">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- テンプレート名 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>テンプレート名</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="ハウスインスペクション（戸建て）">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- ロケーション -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>ロケーション</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：東京都内、神奈川など">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 建物名称 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>建物名称</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：練馬A邸">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 所在地 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>所在地</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：東京都 渋谷区 1-1-1">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 構造種別 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>構造種別</strong></div>
                    <div class="col-7 value-col small-text">
                    <select class="form-select form-control-small small-text">
                        <option value="木造">木造</option>
                        <option value="鉄骨造">鉄骨造</option>
                        <option value="その他">その他</option>
                    </select>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 階数 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>階数</strong></div>
                    <div class="col-7 value-col small-text">
                    <select class="form-select form-control-small small-text">
                        <option>1階</option>
                        <option>2階</option>
                        <option>3階</option>
                        <option>その他</option>
                    </select>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 地下 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>地下</strong></div>
                    <div class="col-7 value-col small-text">
                    <select class="form-select form-control-small small-text">
                        <option>無し</option>
                        <option>有り</option>
                    </select>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 延べ床面積 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>延べ床面積</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：150㎡">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 平面図 -->
                <div class="row mb-2">
                    <div class="col-3 label-col small-text"><strong>平面図</strong></div>
                    <div class="col-9 value-col small-text">
                    <div class="row">
                        <div class="col-3">
                        <img src="/images/floor1.jpg" alt="平面図1" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3">
                        <img src="/images/floor2.jpg" alt="平面図2" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3">
                        <button class="btn btn-primary btn-sm small-text">画像追加</button>
                        </div>
                    </div>
                    </div>
                </div>
                <!-- 立面図 -->
                <div class="row mb-2">
                    <div class="col-3 label-col small-text"><strong>立面図</strong></div>
                    <div class="col-9 value-col small-text">
                    <div class="row">
                        <div class="col-3">
                        <img src="/images/east_elevation.jpg" alt="東立面" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3">
                        <img src="/images/west_elevation.jpg" alt="西立面" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3">
                        <img src="/images/south_elevation.jpg" alt="南立面" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3">
                        <img src="/images/north_elevation.jpg" alt="北立面" class="img-thumbnail mb-1">
                        </div>
                        <div class="col-3 mt-1">
                        <button class="btn btn-primary btn-sm small-text">画像追加</button>
                        </div>
                    </div>
                    </div>
                </div>
                <!-- 敷地図 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>敷地図</strong></div>
                    <div class="col-7 value-col small-text">
                    <button class="btn btn-primary btn-sm small-text">画像アップロード</button>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 近隣マップ -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>近隣マップ</strong></div>
                    <div class="col-7 value-col small-text">
                    <button class="btn btn-secondary btn-sm small-text">Googleマップ表示</button>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 施主 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>施主</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="依頼主名">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 部屋番号 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>部屋番号</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：101号室">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- その他資料 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>その他資料</strong></div>
                    <div class="col-7 value-col small-text">
                    <button class="btn btn-primary btn-sm small-text">ファイルアップロード</button>
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 操作ボタン -->
                <div class="row mt-3">
                    <div class="col text-end">
                    <button class="btn btn-success btn-sm small-text">保存</button>
                    <button class="btn btn-danger btn-sm small-text">削除</button>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>

        <!-- 進捗タブ -->
        <div class="tab-pane fade" id="inspection" role="tabpanel" aria-labelledby="inspection-tab">
            <div class="mt-2">
            <div class="card">
                <div class="card-header">
                <h5>進捗</h5>
                </div>
                <div class="card-body">
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>検査箇所</th>
                        <th>箇所数</th>
                        <th>未検査</th>
                        <th>不可</th>
                        <th>状況</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>外周り</td>
                        <td>10</td>
                        <td>0</td>
                        <td>2</td>
                        <td>完了（100%）</td>
                    </tr>
                    <tr>
                        <td>室内</td>
                        <td>20</td>
                        <td>5</td>
                        <td>5</td>
                        <td>50％</td>
                    </tr>
                    <tr>
                        <td>設備</td>
                        <td>10</td>
                        <td>2</td>
                        <td>2</td>
                        <td>60％</td>
                    </tr>
                    <tr>
                        <td>その他</td>
                        <td>10</td>
                        <td>6</td>
                        <td>2</td>
                        <td>20％</td>
                    </tr>
                    <tr>
                        <th>合計</th>
                        <th>50</th>
                        <th>13</th>
                        <th>11</th>
                        <th>56％</th>
                    </tr>
                    </tbody>
                </table>
                </div>
            </div>
            </div>
        </div>

        <!-- チャットタブ -->
        <div class="tab-pane fade" id="chat" role="tabpanel" aria-labelledby="chat-tab">
            <div class="container">
            <h3 class="text-center">チャット</h3>
            <div class="messaging">
                <div class="inbox_msg">
                <div class="mesgs">
                    <div class="msg_history">
                    <!-- 新しいチャットフォーム（左寄せ） -->
                    <div class="mb-3">
                        <div class="text-start">
                        <div>
                            <span style="font-size:1rem; font-weight:normal;">検査員（担当者A）</span>
                            <small class="text-muted" style="font-size: 0.45rem;">2025-03-10 12:30</small>
                        </div>
                        <div class="mt-2">
                            <!-- rows を 6 に変更 -->
                            <textarea class="form-control" rows="6" placeholder="新しいチャットメッセージを入力" style="font-size:1.2rem;"></textarea>
                        </div>
                        <div class="mt-1">
                            <button type="button" class="btn btn-primary btn-lg" style="font-size:1rem;">送信</button>
                        </div>
                        </div>
                    </div>
        
                    <!-- チャットメッセージリスト（最新のものが上） -->
                    <div class="list-group">
                        <!-- メッセージ：検査員（担当者A）【左寄せ】 -->
                        <div class="list-group-item mb-3">
                        <div class="text-start">
                            <div>
                            <span style="font-size:1rem; font-weight:normal;">検査員（担当者A）</span>
                            <small class="text-muted" style="font-size: 0.45rem;">2025-03-10 12:00</small>
                            </div>
                            <div class="mt-2">
                            <textarea class="form-control" rows="3" readonly style="font-size:0.8rem;">
        検査の進捗は非常に順調で、全ての項目が計画通りに実施され、特に大きな問題は発生しておらず、安心して作業を続けられます。
                            </textarea>
                            </div>
                            <div class="mt-1">
                            <span class="badge bg-warning text-dark" style="font-size: 0.45rem;">未読</span>
                            </div>
                        </div>
                        </div>
        
                        <!-- メッセージ：管理者（担当者B）【右寄せ】 -->
                        <div class="list-group-item mb-3">
                        <div class="text-end">
                            <div>
                            <span style="font-size:1rem; font-weight:normal;">管理者（担当者B）</span>
                            <small class="text-muted" style="font-size: 0.45rem;">2025-03-10 11:50</small>
                            </div>
                            <div class="mt-2">
                            <textarea class="form-control" rows="3" readonly style="font-size:0.8rem;">
        了解しました。全ての手順が正確に実行され、問題なく進捗しております。今後も引き続きご安心くださいませ。
                            </textarea>
                            </div>
                            <div class="mt-1">
                            <span class="badge bg-warning text-dark" style="font-size: 0.45rem;">未読</span>
                            </div>
                        </div>
                        </div>
        
                        <!-- 追加のメッセージ例：検査員（担当者A）【左寄せ】 -->
                        <div class="list-group-item mb-3">
                        <div class="text-start">
                            <div>
                            <span style="font-size:1rem; font-weight:normal;">検査員（担当者A）</span>
                            <small class="text-muted" style="font-size: 0.45rem;">2025-03-10 11:30</small>
                            </div>
                            <div class="mt-2">
                            <textarea class="form-control" rows="3" readonly style="font-size:0.8rem;">
        追加のご報告です。全体の状況は非常に良好で、各項目が計画通りに進んでおり、安心していただけます。
                            </textarea>
                            </div>
                            <div class="mt-1">
                            <span class="badge bg-success" style="font-size: 0.45rem;">既読</span>
                            </div>
                        </div>
                        </div>
                        <!-- その他のメッセージは必要に応じて追加 -->
                    </div>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>
        

        
        <!-- 依頼主タブ -->
        <div class="tab-pane fade" id="owner" role="tabpanel" aria-labelledby="owner-tab">
            <div class="mt-2">
            <div class="card">
                <div class="card-header">
                <h5>依頼主情報</h5>
                </div>
                <div class="card-body">
                <!-- 依頼主名 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>依頼主名</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="依頼主名">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 依頼主ひらがな -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>依頼主ひらがな</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="いらいぬしひらがな">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- メールアドレス -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>メールアドレス</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="email" class="form-control form-control-small" placeholder="email@example.com">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- 住所 -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>住所</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：東京都 渋谷区 1-1-1">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                <!-- TEL -->
                <div class="row mb-2 align-items-center">
                    <div class="col-3 label-col small-text"><strong>TEL</strong></div>
                    <div class="col-7 value-col small-text">
                    <input type="text" class="form-control form-control-small" placeholder="例：03-1234-5678">
                    </div>
                    <div class="col-2 change-btn"></div>
                </div>
                </div><!-- /.card-body -->
            </div><!-- /.card -->
            </div>
        </div>

        <!-- レポートタブ -->
        <div class="tab-pane fade" id="report" role="tabpanel" aria-labelledby="report-tab">
            <div class="mt-2">
            <div class="card">
                <div class="card-header">
                <h5>レポート</h5>
                </div>
                <div class="card-body">
                <p>ここにレポート内容が表示されます。</p>
                </div>
            </div>
            </div>
        </div>
        </div> <!-- end tab-content -->
    </div>

    <!-- ユーザーフッター -->
    <div id="footer-container"></div>

    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Optional custom JavaScript -->
    <script src="../style.js"></script>
    <!-- ヘッダー＆フッター読込 -->
    <script>
        fetch('user_header.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('header-container').innerHTML = data;
        });
        fetch('user_footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer-container').innerHTML = data;
        });
        document.addEventListener('DOMContentLoaded', () => {
        applyCustomSettings();
        });
    </script>
</body>
</html>
