<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>マイプロフィール</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- Optional custom CSS -->
    <link rel="stylesheet" href="../style.css">
    </head>
    <body>
    <!-- ヘッダーの読み込み -->
    <div id="header-container"></div>

    <div class="container mt-4">
    <h2 class="mb-3 small-text">マイプロフィール</h2>
    <div class="card">
        <div class="card-body">
        <div class="row">
            <!-- ユーザー写真 -->
            <div class="col-md-3 text-center">
            <img src="../images/user_photo.png" alt="User Photo" class="rounded-circle mb-3" width="150" height="150">
            </div>
            <!-- ユーザー情報 -->
            <div class="col-md-9">
            <h4 class="small-text">ユーザー名: kawamoto</h4>
            <p class="small-text">氏名: 河本直己</p>
            <p class="small-text">メール: kawamoto@example.com</p>
            <p class="small-text">
                パスワード: ******** 
                <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#changePasswordModal">変更</button>
            </p>
            <!-- 言語プルダウン -->
            <div class="mb-3">
                <label for="languageSelect" class="form-label small-text">言語</label>
                <select id="languageSelect" class="form-select form-select-sm" style="width: auto;">
                <option value="ja" selected>日本語</option>
                <option value="vi">ベトナム語</option>
                <option value="en">英語</option>
                </select>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>

    <!-- パスワード変更モーダル -->
    <div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="changePasswordModalLabel">パスワード変更</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="閉じる"></button>
        </div>
        <div class="modal-body">
            <form id="changePasswordForm">
            <div class="mb-3">
                <label for="newPassword" class="form-label small-text">新しいパスワード</label>
                <input type="password" class="form-control form-control-sm" id="newPassword" required>
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label small-text">パスワード確認</label>
                <input type="password" class="form-control form-control-sm" id="confirmPassword" required>
            </div>
            <div class="text-end">
                <button type="submit" class="btn btn-primary btn-sm">保存</button>
            </div>
            </form>
        </div>
        </div>
    </div>
    </div>

    <!-- フッターの読み込み -->
    <div id="footer-container"></div>

    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../style.js"></script>
    <script>
    // ヘッダーとフッターの読み込み
    fetch('user_header.html')
        .then(response => response.text())
        .then(data => {
        document.getElementById('header-container').innerHTML = data;
        });
        
    fetch('user_footer.html')
        .then(response => response.text())
        .then(data => {
        document.getElementById('footer-container').innerHTML = data;
        });
        
    // パスワード変更フォームの処理例
    document.getElementById('changePasswordForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        if (newPassword !== confirmPassword) {
        alert('パスワードが一致しません。');
        } else {
        alert('パスワードを変更しました。');
        // パスワード変更の処理を実装
        const modalEl = document.getElementById('changePasswordModal');
        const modal = bootstrap.Modal.getInstance(modalEl);
        modal.hide();
        }
    });
</script>
</body>
</html>
